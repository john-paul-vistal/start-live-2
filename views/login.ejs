<!DOCTYPE html>
<html lang="en">

<head>
    <title>STRAT LIVE</title>
    <link rel="icon" href="/img/logo.png">

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/w3-css.css">

    <script src="js/cdn-jsdelivr.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/stack-patch.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/emojionearea/3.4.2/emojionearea.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/emojionearea/3.4.2/emojionearea.js"></script>

</head>
<style>
    body {
        height: 100vh;
    }
</style>

<body>
    <!-- START LOGIN -->
    <div id="login" style="width:100%;height:100%;background:url(img/bg.png);background-size: cover;background-repeat: no-repeat;z-index:9999" class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="col-sm mt-5">
                    <div class="container text-center text-white w3-display-middle">
                        <h1 class="mt-5" style="font-size:70px">STRAT LIVE</h1>
                        <p style="font-size:20px">Be connected and break the boundaries</p>
                    </div>
                </div>
                <div class="col-sm">
                    <div class="card shadow w3-cyan p-2" style="height:700px;">
                        <div class="d-flex justify-content-center mt-2">
                            <img class="rounded-circle" style="width:100px" src="img/Logo.png" alt="Avatar">
                        </div>
                        <h4 class="text-center text-white">WELCOME TO STRAT LIVE</h4>
                        <hr>
                        <div class="container mt-4">
                            <div class="d-flex justify-content-center mb-3">
                                <div style="height:125px;width:125px;" class="bg-white rounded-circle">
                                    <img id="choosenAvatar" class="rounded-circle" style="height:125px;width:125px;" src="img/2.png" alt="">
                                </div>
                            </div>
                            <div class="w3-content w3-display-container">
                                <p>Choose Avatar</p>
                                <div style="width:100%;height:100%" class="mySlides ml-3">
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/1.jpg" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/2.png" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/3.png" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/4.png" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/5.png" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/6.png" alt=""></button></div>
                                </div>
                                <div style="width:100%;height:100%" class="mySlides ml-3">
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/anime1.jpg" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/anime2.png" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/anime3.png" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/anime4.png" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/anime5.jpg" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/anime6.png" alt=""></button></div>
                                </div>
                                <div style="width:100%;height:100%" class="mySlides ml-3">
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/emoji1.png" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/emoji2.jpg" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/emoji3.jpg" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/emoji4.jpg" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/emoji5.jpg" alt=""></button></div>
                                    <div class="d-inline"><button class="btn avatar-img"><img class = "rounded-circle" img style="width:50px;height:50px" src="img/emoji6.jpg" alt=""></button></div>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <button class="w3-button w3-black px-4 mr-1" onclick="plusDivs(-1)">&#10094;</button>
                                    <button class="w3-button w3-black px-4 ml-1" onclick="plusDivs(+1)">&#10095;</button>
                                </div>

                            </div>
                            <p>Username</p>
                            <form class="text-center" action="/strat-chat-body" method="POST">
                                <div class="input-group mb-3">
                                    <input id="userImg" type="hidden" name="userImg" value="img/2.png">
                                    <input id="userName" name="userName" type="text" class="form-control" placeholder="Username">
                                </div>
                                <button id="strtConvo" class="btn btn-block btn-success p-3 mt-3" disabled>START A CONVERSATION</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END LOGIN -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
        var userName;
        var avatarImg;

        $('.avatar-img').click(function() {
            let avatarChoosen = $(this).children().attr('src')
            $('#choosenAvatar').attr('src', avatarChoosen)
            $('#userImg').val($('#choosenAvatar').attr('src'))
        })

        $('#strtConvo').click(function() {
            userName = $('#userNameInput').val();
            avatarImg = $('#choosenAvatar').attr('src');
            if (userName != '') {
                $('#login').css('display', 'none')
                $('#body').css('display', 'block')
            } else {
                Swal.fire({
                    position: 'top',
                    icon: 'error',
                    title: 'Oops...',
                    text: 'PLEASE PUT A USER NAME',
                })
            }
        })

        $('#userName').on('input', function() {
            if ($('#userName').val() != "") {
                $('#strtConvo').attr('disabled', false)
            } else {
                $('#strtConvo').attr('disabled', true)
            }
        })


        var slideIndex = 1;
        showDivs(slideIndex);

        function plusDivs(n) {
            showDivs(slideIndex += n);
        }

        function showDivs(n) {
            var i;
            var x = document.getElementsByClassName("mySlides");
            if (n > x.length) {
                slideIndex = 1
            }
            if (n < 1) {
                slideIndex = x.length
            };
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex - 1].style.display = "block";
        }
    </script>
</body>

</html>